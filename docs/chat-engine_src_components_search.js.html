<!DOCTYPE html>
<html lang="en">
<!--[if IE 7]><html lang="en" class="lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]><html lang="en" class="lt-ie9"> <![endif]-->
<!--[if gt IE 8]><html lang="en"> <![endif]-->

<head>



<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


    <!-- docs added -->
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <link type="text/css" rel="stylesheet" href="styles/bootstrap-isolate.css">

    <!-- <script src="/wp-content/themes/pubnub/js/profiler.min.js"></script> <script src="/wp-content/themes/pubnub/js/abtests.min.js"></script> -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link rel="icon" type="image/png" href="/static/images/structure/favicon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-57x57.png" />
    <link rel="apple-touch-icon" sizes="76x76" href="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-76x76.png" />
    <link rel="apple-touch-icon" sizes="120x120" href="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-120x120.png" />
    <link rel="apple-touch-icon" sizes="152x152" href="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-152x152.png" />
    <link rel="apple-touch-icon" sizes="180x180" href="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-180x180.png" />
    <meta name="msapplication-TileColor" content="#d02129">
    <meta name="msapplication-TileImage" content="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-180x180.png">
    <meta name="msapplication-square57x57logo" content="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-57x57.png" />
    <meta name="msapplication-square76x76logo" content="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-76x76.png" />
    <meta name="msapplication-square152x152logo" content="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-152x152.png" />
    <meta name="msapplication-square180x180logo" content="/wp-content/themes/pubnub/images/touch-icon/apple-touch-icon-180x180.png" />
    <meta name="google-site-verification" content="X-NyWbTQ-1CgZ7cvLZYPOc0BzO7PblJv201J3PJXAJI" />
    <meta name="globalsign-domain-verification" content="8DqtGiinnsWmU7Jx8drsM7aOLda0Uy2HVd8iE4qWWF" />
    <meta name="theme-color" content="#19a2c6">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1">
    <link rel="canonical" href="https://www.pubnub.com/" />

    <title>chat-engine/src/components/search.js - PubNub ChatEngine</title>

    <meta name="description" content="Focus on innovation and launch fast with our realtime APIs and global messaging infrastructure for web, mobile, and Internet of Things." />
    <link rel="publisher" href="https://plus.google.com/+Pubnub" />
    <meta property="og:type" content="website">
    <meta property="og:title" content="PubNub: Making Realtime Innovation Simple | PubNub">
    <meta property="og:description" content="Focus on innovation and launch fast with our realtime APIs and global messaging infrastructure for web, mobile, and Internet of Things.">
    <meta property="og:url" content="https://www.pubnub.com/">
    <meta property="og:site_name" content="PubNub">
    <meta property="fb:app_id" content="1699513143641850">
    <meta property="og:image" content="https://www.pubnub.com/wp-content/uploads/2017/12/pubnub-powered-apps.png">
    <meta property="og:updated_time" content="2017-08-12T13:24:23-08:00">
    <meta property="twitter:account_id" content="152773076">
    <meta name="twitter:url" content="https://www.pubnub.com/">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="Focus on innovation and launch fast with our realtime APIs and global messaging infrastructure for web, mobile, and Internet of Things.">
    <meta name="twitter:title" content="PubNub: Making Realtime Innovation Simple | PubNub">
    <meta name="twitter:site" content="@pubnub">
    <meta name="twitter:image" content="https://www.pubnub.com/wp-content/uploads/2017/12/pubnub-powered-apps.png">
    <meta name="twitter:creator" content="@pubnub">
    <meta name="msvalidate.01" content="5D1F261393DAB808E9E4F55D7E2E533B">
    <meta name="google-site-verification" content="TAxHrbjWhjC9WjyrHFEB9KI5BVksMXrWQtiaUfF9p9U">
    <meta name="yandex-verification" content="7655cf9b8c32273d">
    <link rel='dns-prefetch' href='//www.pubnub.com'>
    <link rel='dns-prefetch' href='//s.w.org'>
    <link rel='stylesheet' id='bodhi-svgs-attachment-group-css' href='https://www.pubnub.com/wp-content/plugins/bwp-minify/min/?f=wp-content/plugins/svg-support/css/svgs-attachment.css,static/css/styles.css,wp-content/themes/pubnub/css/header-footer.css,wp-content/themes/pubnub/css/home-page.css&#038;ver=148732091320181' type='text/css' media='all'>
    <script type="application/ld+json">{"@context": "http://schema.org","@type": "BreadcrumbList","itemListElement": [ {"@type": "ListItem","position": 1,"item": {"@id": "https://www.pubnub.com","name": "PubNub" }},{"@type": "ListItem","position": 2,"item": {"@id": "https://www.pubnub.com/","name": "Realtime. Real Simple." }}] }
    </script>
    <script type="application/ld+json">{"@context": "http://schema.org","@type": "Organization","name": "PubNub","url": "https://www.pubnub.com","logo": "https://www.pubnub.com/wp-content/uploads/2016/04/pubnub-share.png","founder": "Stephen Blum, Todd Greene","foundingDate": "2010","sameAs": [ "https://www.facebook.com/PubNub","https://twitter.com/PubNub","https://plus.google.com/+Pubnub","https://en.wikipedia.org/wiki/PubNub","https://www.youtube.com/c/PubNub","https://www.linkedin.com/company/pubnub" ],"contactPoint": [ {"@type": "ContactPoint","contactType": "customer service","telephone": "+1-415-223-7552","areaServed": "Worldwide","availableLanguage": "English","email": "support@pubnub.com" }] }
    </script>
    <script type="application/ld+json">{"@context": "http://schema.org","@type": "WebSite","name": "PubNub","alternateName": "PubNub","url": "https://www.pubnub.com","potentialAction": {"@type": "SearchAction","target": "https://www.pubnub.com/search/?q={search_term_string}","query-input": "required name=search_term_string" }}
    </script>
    <script type="application/ld+json">{"@context": "http://schema.org","@type": "LocalBusiness","name": "PubNub San Francisco","url": "https://www.pubnub.com","telephone": "1-415-223-7552","address": {"@type": "PostalAddress","streetAddress": "725 Folsom Street","addressLocality": "San Francisco","addressRegion": "California","postalCode": "94107","addressCountry": "US" },"geo": {"@type": "GeoCoordinates","latitude": "40.7127837","longitude": "-74.0059413" }}
    </script>
    <script>
        var algolia = {
            "debug": false,
            "application_id": "IN8YFL3BUS",
            "search_api_key": "5e227dad0d9f83884234c10841752bdf",
            "powered_by_enabled": true,
            "query": "",
            "autocomplete": {
                "sources": [{
                    "index_id": "searchable_posts",
                    "index_name": "wp_algoliasearchable_posts",
                    "label": "All posts",
                    "admin_name": "All posts",
                    "position": 0,
                    "max_suggestions": 5,
                    "tmpl_suggestion": "autocomplete-post-suggestion",
                    "enabled": true
                }, {
                    "index_id": "posts_page",
                    "index_name": "wp_algoliaposts_page",
                    "label": "Pages",
                    "admin_name": "Pages",
                    "position": 8,
                    "max_suggestions": 5,
                    "tmpl_suggestion": "autocomplete-post-suggestion",
                    "enabled": true
                }, {
                    "index_id": "posts_post",
                    "index_name": "wp_algoliaposts_post",
                    "label": "Posts",
                    "admin_name": "Posts",
                    "position": 9,
                    "max_suggestions": 5,
                    "tmpl_suggestion": "autocomplete-post-suggestion",
                    "enabled": true
                }, {
                    "index_id": "terms_category",
                    "index_name": "wp_algoliaterms_category",
                    "label": "Categories",
                    "admin_name": "Categories",
                    "position": 10,
                    "max_suggestions": 3,
                    "tmpl_suggestion": "autocomplete-term-suggestion",
                    "enabled": true
                }, {
                    "index_id": "terms_post_tag",
                    "index_name": "wp_algoliaterms_post_tag",
                    "label": "Tags",
                    "admin_name": "Tags",
                    "position": 11,
                    "max_suggestions": 3,
                    "tmpl_suggestion": "autocomplete-term-suggestion",
                    "enabled": true
                }],
                "input_selector": "input[name='s']:not('.no-autocomplete')"
            },
            "indices": {
                "searchable_posts": {
                    "name": "wp_algoliasearchable_posts",
                    "id": "searchable_posts",
                    "enabled": true,
                    "replicas": []
                },
                "posts_post": {
                    "name": "wp_algoliaposts_post",
                    "id": "posts_post",
                    "enabled": true,
                    "replicas": []
                },
                "posts_page": {
                    "name": "wp_algoliaposts_page",
                    "id": "posts_page",
                    "enabled": true,
                    "replicas": []
                },
                "terms_category": {
                    "name": "wp_algoliaterms_category",
                    "id": "terms_category",
                    "enabled": true,
                    "replicas": []
                },
                "terms_post_tag": {
                    "name": "wp_algoliaterms_post_tag",
                    "id": "terms_post_tag",
                    "enabled": true,
                    "replicas": []
                }
            }
        };
    </script>
    <link rel="alternate" type="application/rss+xml" title="Realtime Data Stream Network Blog Feed from PubNub" href="https://www.pubnub.com/blog/feed/">
    <style>
        @font-face {
            font-family: "FontAwesome";
            src: url("/static/fonts/fontawesome-webfont.eot?v=4.2.0");
            src: url("/static/fonts/fontawesome-webfont.eot?#iefix&v=4.2.0") format("embedded-opentype"), url("/static/fonts/fontawesome-webfont.woff?v=4.2.0") format("woff"), url("/static/fonts/fontawesome-webfont.ttf?v=4.2.0") format("truetype"), url("/static/fonts/fontawesome-webfont.svg?v=4.2.0#fontawesomeregular") format("svg");
            font-weight: normal;
            font-style: normal
        }
    </style>
    <script>
        ! function(f, b, e, v, n, t, s) {
            if (f.fbq) return;
            n = f.fbq = function() {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n;
            n.push = n;
            n.loaded = !0;
            n.version = '2.0';
            n.queue = [];
            t = b.createElement(e);
            t.async = !0;
            t.src = v;
            s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script', 'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '1736515043250868'); // Insert your pixel ID here.
        fbq('track', 'PageView');
    </script>
    <script>
        <!--
        document.writeln('<noscript><img height=\"1\" width=\"1\" style=\"display:none\" src=\"https://www.facebook.com/tr?id=1736515043250868&ev=PageView&noscript=1\"></noscript>');
        //-->
    </script>
    <!--<script>window.heap = window.heap || [], heap.load = function (e, t) {window.heap.appid = e, window.heap.config = t = t || {};var r = t.forceSSL || "https:" === document.location.protocol, a = document.createElement("script");a.type = "text/javascript", a.async = !0, a.src = (r ? "https:" : "http:") + "//cdn.heapanalytics.com/js/heap-" + e + ".js";
var n = document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a, n);for (var o = function (e) {return function () {heap.push([e].concat(Array.prototype.slice.call(arguments, 0)))
}}, p = ["addEventProperties", "addUserProperties", "clearEventProperties", "identify", "removeEventProperty", "setEventProperties", "track", "unsetEventProperty"], c = 0; c < p.length; c++)heap[p[c]] = o(p[c])
};heap.load();</script>-->
    <script>
        ! function() {
            var analytics = window.analytics = window.analytics || [];
            if (!analytics.initialize)
                if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice.");
                else {
                    analytics.invoked = !0;
                    analytics.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on"];
                    analytics.factory = function(t) {
                        return function() {
                            var e = Array.prototype.slice.call(arguments);
                            e.unshift(t);
                            analytics.push(e);
                            return analytics
                        }
                    };
                    for (var t = 0; t < analytics.methods.length; t++) {
                        var e = analytics.methods[t];
                        analytics[e] = analytics.factory(e)
                    }
                    analytics.load = function(t) {
                        var e = document.createElement("script");
                        e.type = "text/javascript";
                        e.async = !0;
                        e.src = ("https:" === document.location.protocol ? "https://" : "http://") + "cdn.segment.com/analytics.js/v1/" + t + "/analytics.min.js";
                        var n = document.getElementsByTagName("script")[0];
                        n.parentNode.insertBefore(e, n)
                    };
                    analytics.SNIPPET_VERSION = "4.0.0";
                    analytics.load("OdINAt6BhYOBsN2n1ulSDi5S9SipTaqu");
                    analytics.page();
                }
        }();
    </script>

    <style type="text/css">
        #ce-header-nav {

        }
        article {
            box-shadow: none;
        }
        section {
            background-color: white;
        }
        pre {
            /*background-color: #3a3737;*/
        }
    </style>

</head>

<body id="home-page" class="home page-template-default page page-id-29444 home-page no-web-banner">
    <noscript>
        <iframe src="//www.googletagmanager.com/ns.html?id=GTM-PZWSZ2" height="0" width="0" style="display:none;visibility:hidden"></iframe>
    </noscript>
    <script>
        (function(w, d, s, l, i) {
            w[l] = w[l] || [];
            w[l].push({
                'gtm.start': new Date().getTime(),
                event: 'gtm.js'
            });
            var f = d.getElementsByTagName(s)[0],
                j = d.createElement(s),
                dl = l != 'dataLayer' ? '&l=' + l : '';
            j.async = true;
            j.src = '//www.googletagmanager.com/gtm.js?id=' + i + dl;
            f.parentNode.insertBefore(j, f);
        })(window, document, 'script', 'dataLayer', 'GTM-PZWSZ2');
    </script>

    <div id="custom_html-2" class="widget_text widget widget_custom_html">
        <div class="textwidget custom-html-widget">
            <div class="navbar-fixed-top pn-header">
                <div class="menu-bar">
                    <div class="container">
                        <div class="row">
                            <div class="logo pull-left">
                                <a href="/" title="PubNub secure global data stream network and easy to use API for realtime Apps">
                                    <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewbox="0 0 720 271.11">
                                        <defs>
                                            <style>
                                                .cls-1 {
                                                    fill: none
                                                }

                                                .cls-2 {
                                                    fill: #d02129
                                                }
                                            </style>
                                        </defs>
                                        <rect class="cls-1" width="720" height="271.11" />
                                        <path class="cls-2" d="M290.58,200.56l-5.49-.59a116.57,116.57,0,0,1-28-6.4,2.15,2.15,0,0,1-1.62-2.41q.06-59.42,0-118.85V70.55H273.8v40.81l2.82-1a71.44,71.44,0,0,1,27.82-4.56c15.17.66,26.5,8.82,31.89,23A58.79,58.79,0,0,1,339.87,149a86.26,86.26,0,0,1-2.76,24.8c-4,14.43-13.58,22.79-28.15,25.59-2.23.43-4.5.59-6.75.89a8.94,8.94,0,0,0-1,.28Zm-16.74-47.33c0,9.38,0,18.76,0,28.15a1.84,1.84,0,0,0,1.48,2.05,63.59,63.59,0,0,0,17.07,3.7,37.27,37.27,0,0,0,12.31-.8c7.72-2,12.25-7.25,14.34-14.69a75.29,75.29,0,0,0,1.51-33A24.35,24.35,0,0,0,315,126.12c-4.64-5.24-10.76-7.07-17.49-7.16a60,60,0,0,0-22.3,4.13,1.79,1.79,0,0,0-1.39,2c.06,9.38,0,18.76,0,28.15" />
                                        <path class="cls-2" d="M600.52,200.56,595,200a116,116,0,0,1-28-6.38,2.16,2.16,0,0,1-1.66-2.41q.07-59.49,0-119V70.56h18.27v40.79c1.26-.44,2.29-.79,3.31-1.16a70,70,0,0,1,27.29-4.39c15.48.7,26.77,9,32.13,23.49,3,8,3.6,16.36,3.34,24.8a76.47,76.47,0,0,1-3.39,21.78c-4.21,12.81-13.11,20.34-26.1,23.21-2.71.6-5.5.81-8.25,1.22-.41.06-.8.18-1.2.27Zm-16.77-47.39q0,14.21,0,28.43c0,.81.09,1.35,1,1.68a61,61,0,0,0,24.43,3.91c4.91-.28,9.51-1.62,13.34-4.91,3.61-3.09,5.56-7.17,6.71-11.63a77.18,77.18,0,0,0,1.34-31.35,25.49,25.49,0,0,0-5.18-12.6c-4.64-5.64-10.94-7.62-17.93-7.72A59.5,59.5,0,0,0,585,123.13a1.7,1.7,0,0,0-1.3,1.89c0,9.38,0,18.76,0,28.15" />
                                        <path class="cls-2" d="M69.83,78.05s28.81-.08,42.33,0A64.49,64.49,0,0,1,131.1,80.7c11.14,3.48,17.7,11.5,19,23.11a56.42,56.42,0,0,1-.68,18c-2.26,10.6-8.89,17.24-18.94,20.73A54.31,54.31,0,0,1,113,145.3c-7.66.09-15.32,0-23,0H88.19v53H69.83ZM88.23,132c.38,0,.6.06.83.06,7.06,0,14.12.1,21.18-.06a45.21,45.21,0,0,0,8.81-1.13c6-1.35,10.39-4.61,12-10.84a35.33,35.33,0,0,0,.57-15.45c-1.12-6.11-4.64-10.22-10.71-11.66a57.34,57.34,0,0,0-11.12-1.55c-6.68-.25-13.37-.07-20.06-.07-.49,0-1,0-1.53.07Z" />
                                        <path class="cls-2" d="M194.7,200.56c-2.24-.29-4.49-.54-6.72-.88a39.92,39.92,0,0,1-15-5.22c-7.17-4.42-10.83-11-11.66-19.25-.23-2.35-.28-4.73-.28-7.09q0-29.26,0-58.52v-1.73h18.33v1.81q0,26.27,0,52.53A43.91,43.91,0,0,0,181,175.13c2.15,6.94,7,10.89,14.06,11.74a66.39,66.39,0,0,0,25.75-2.33,1.84,1.84,0,0,0,1.57-2.13q-.06-36.37,0-72.75v-1.83h18.32v1.81q0,41.39,0,82.77a1.93,1.93,0,0,1-1.7,2.28,168.56,168.56,0,0,1-32.71,5.63,7.1,7.1,0,0,0-1.06.24Z" />
                                        <path class="cls-2" d="M504.64,200.56c-2.24-.29-4.49-.54-6.72-.88a40.08,40.08,0,0,1-14.78-5.07c-7.26-4.36-11-10.93-11.89-19.25a63.94,63.94,0,0,1-.28-6.53q0-29.61,0-59.23v-1.75h18.33v1.78q0,26.76,0,53.52a39.93,39.93,0,0,0,1.79,12.34c2.23,6.83,7.08,10.56,14,11.39a68.22,68.22,0,0,0,25.23-2.19,2.3,2.3,0,0,0,2-2.68q-.09-36.17,0-72.33v-1.85h18.23c0,.52.08,1,.08,1.5q0,41.67,0,83.33a1.65,1.65,0,0,1-1.42,1.92,167.1,167.1,0,0,1-32.84,5.71,8.22,8.22,0,0,0-1.2.25Z" />
                                        <path class="cls-2" d="M453.24,198.31h-17c-3.21,0-6.42,0-9.62,0a2,2,0,0,1-2.15-1.25q-11.16-21.64-22.39-43.24l-30.63-59a2.21,2.21,0,0,0-.86-.94V198.22h-16V78.12c.43,0,.88-.07,1.32-.07,8.36,0,16.72,0,25.08,0a1.84,1.84,0,0,1,1.92,1.17q26.65,51.37,53.37,102.72a2.27,2.27,0,0,0,.87,1V78.15h16.14Z" />
                                    </svg>
                                </a>
                            </div>
                            <div class="navigation-spacing">
                                <div id="mobile-expand" class="expand"></div>
                                <button title="Search" class="search-menu-btn-mobile">Search</button>
                                <div class="pull-right" id="navigation-register-desktop"><a href="#" class=" portal-get-started btn-get-started-nav pull-right" title="Get Started " target="_blank">Get Started </a></div>
                                <nav>
                                    <div id="menu-wrap-primary">
                                        <ul id="menu-primary">
                                            <li class=" dropdown menu-item open "><a href="/solutions/" class="title menu-link" title="Use Cases">Use Cases</a>
                                                <div class="sub-menu use-case-child ">
                                                    <div class="menu-left-panel">
                                                        <ul class="main-menu">
                                                            <li class="active" data-name="chat-and-collaboration"><a href="/solutions/chat/" title="Chat ">Chat</a></li>
                                                            <li class="" data-name="iot-and-device-control"><a href="/solutions/iot/" title="IoT Device Control">IoT
Device Control</a></li>
                                                            <li class="" data-name="on-demand-services"><a href="/solutions/realtime-updates/" title="Realtime Updates">Realtime
Updates </a></li>
                                                        </ul>
                                                        <ul class="child-menu">
                                                            <li><a href="/customers/" title="Customer Case Studies">Customer Case Studies</a></li>
                                                        </ul>
                                                    </div>
                                                    <div class="menu-right-panel selected-menu"><a href="/solutions/chat/" title="Chat " class="chat-and-collaboration show-sec"><i title="Chat"></i><h3 class="title-menu" title="Chat ">Chat </h3><p class="content-menu">Flexible and feature-rich realtime chat APIs for web, IOS, Android and connected
devices.</p></a><a href="/solutions/iot/" title="IoT Device Control" class="iot-and-device-control"><i title="IoT Device Control"></i><h3 class="title-menu" title="IoT Device Control">IoT Device Control</h3><p class="content-menu">Securely monitor, control, provision and stream data between internet-connected
devices.</p></a><a href="/solutions/realtime-updates/" title="Realtime Updates " class="on-demand-services"><i title="Realtime Updates "></i><h3 class="title-menu" title="Realtime Updates ">Realtime Updates </h3><p class="content-menu">From geotracking, to alerts, to<br> up-to-the-millisecond updates, keep everyone, and
everything realtime.</p></a></div>
                                                </div>
                                            </li>
                                            <li class=" dropdown menu-item "><a href="/products/global-data-stream-network/" class="title menu-link" title="Products">Products</a>
                                                <div class="sub-menu product-feature-child-menu ">
                                                    <div class="menu-left-panel"><a href="/products/chatengine/" title="ChatEngine" class="chatengine-menu"><i></i><h3 class="title-menu" title="ChatEngine">ChatEngine<mark class="tm-mark">&#8482;</mark><span>NEW!</span></h3><p class="content-menu">Open and extensible chat SDK for accelerating chat development.</p></a><a href="/products/global-data-stream-network/" title="Data Stream Network" class="data-stream-panel"><i></i><h3 class="title-menu" title="Data Stream Network">Data Stream Network</h3><p class="content-menu">A global network infrastructure powering API for realtime updates and IoT.</p></a></div>
                                                    <div class="menu-right-panel">
                                                        <h3 class="bordered-bottom-title-menu">Features</h3>
                                                        <ul class="list-with-image">
                                                            <li class="realtime-messaging"><a href="/products/realtime-messaging/" title="Realtime Messaging">Realtime
Messaging</a></li>
                                                            <li class="device-and-user-presence"><a href="/products/presence/" title="Device & User Presence">Device & User
Presence</a></li>
                                                            <li class="mobile-push-notifications"><a href="/products/mobile-push-notifications/" title="Mobile Push Notifications">Mobile Push Notifications</a></li>
                                                            <li class="pubnub-functions"><a href="/products/functions/" title="PubNub Functions">PubNub Functions</a></li>
                                                            <li class="security-compliance"><a href="/products/security-overview/" title="Security & Compliance">Security &
Compliance</a></li>
                                                            <li class="see-more-features"><a href="/products/global-data-stream-network/" title="See More Features">See More Features</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </li>
                                            <li class=" menu-item no-dropdown"><a href="/pricing/" class="title menu-link " title="Pricing">Pricing</a></li>
                                            <li class=" dropdown menu-item "><a href="/docs" class="title menu-link" title="Developers">Developers</a>
                                                <div class="sub-menu developers-child-menu">
                                                    <div class="menu-left-panel"><a href="/docs" title="70+ SDKs & Full Documentation" class="developers-panel"><i></i><h3 class="title-menu" title="70+ SDKs & Full Documentation">70+ SDKs & Full Documentation</h3><p class="content-menu"> Learn how to use ChatEngine, Pub/Sub, Presence, Access Manager, Storage & Playback, and Push Notifications with your
clients.</p></a></div>
                                                    <div class="menu-right-panel">
                                                        <ul class="list-with-image">
                                                            <li class="blocks-catalog-icon"><a href="/docs/blocks-catalog" title="BLOCKS Catalog">BLOCKS Catalog</a></li>
                                                            <li class="tutorials-icon"><a title="Quickstarts" href="/tutorials/pubnub-publish-subscribe/">Quickstarts</a></li>
                                                            <li class="training-icon"><a href="/developers/training/" title="Tutorials & Webinars">Tutorials & Webinars</a></li>
                                                            <li class="debug-console-icon"><a title="Dev Console" href="/docs/console">Dev Console</a></li>
                                                            <li class="open-source-projects-icon"><a title="Realtime Dashboards" href="/developers/eon/">Realtime Dashboards</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </li>
                                            <li class=" dropdown menu-item "><a href="" class="title menu-link not-link" title="More">More</a>
                                                <div class="sub-menu more-child-menu">
                                                    <div class="menu-left-panel"><a href="/blog/" title="Blog" class="more-panel"><i></i><h3 class="title-menu" title="Blog">Blog</h3><p class="content-menu">Develop and deploy. Tutorials, code walkthroughs, and PubNub news on the PubNub
Blog.</p></a></div>
                                                    <div class="menu-right-panel">
                                                        <ul class="list-with-image">
                                                            <li class="network-status"><a href="http://status.pubnub.com/" target="_blank" title="Network Status">Network
Status</a></li>
                                                            <li class="support"><a href="https://support.pubnub.com/support/home" title="Support">Support</a></li>
                                                            <li class="jobs-at-pubnub"><a href="/company/careers/" title="Jobs at PubNub">Jobs at PubNub</a></li>
                                                            <li class="product-feature-updates"><a href="/docs/feature-updates" title="Product Feature Updates">Product
Feature Updates</a></li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </li>
                                        </ul>
                                    </div>
                                    <div class="menu-login-search">
                                        <div class="search-area">
                                            <button title="Search" class="search-menu-btn">Search</button>
                                        </div>
                                        <div class="talktosale-menu-btn "><a title="Talk to Sales" href="/company/talk-to-sales/">Talk to Sales</a></div>
                                        <div class="login-menu-btn login"><a title="Login" href="https://dashboard.pubnub.com/login">Login</a></div>
                                    </div>
                                </nav>
                                <div class="search-area">
                                    <div class="header-search-form ">
                                        <form action="/search/" id="search-form" class="form ">
                                            <div class="form-fields">
                                                <input class="form-control" id="search-input" name="query" type="text" placeholder="Search product, features, blog posts, APIs, or docs" value="" autocomplete="off" /><span class="dropdown-menu" id="search-suggestion"></span><span id="close-search-mobile"><svg
xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewbox="0 0 20 20"><path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z" fill-rule="evenodd"></path></svg></span><span id="close-src" class="clear-search"><svg
xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewbox="0 0 20 20"><path d="M8.114 10L.944 2.83 0 1.885 1.886 0l.943.943L10 8.113l7.17-7.17.944-.943L20 1.886l-.943.943-7.17 7.17 7.17 7.17.943.944L18.114 20l-.943-.943-7.17-7.17-7.17 7.17-.944.943L0 18.114l.943-.943L8.113 10z" fill-rule="evenodd"></path></svg></span>
                                                <input class="hidden" id="search-btn" type="submit" value="Search">
                                            </div>
                                            <div id="featured-search-menu" class="feature resources">
                                                <h4 class="title">Featured Resource</h4>
                                                <a href="/learn/ebooks/why-time-is-everything-for-businesses/" class="content-sec"><img src="/wp-content/uploads/2018/08/time-is-everything-ebook-cover-for-search.png" alt="Featured Resource" title="Featured Resource" width="42" height="44"><span class="description">Why Time is Everything for Businesses</span></a>
                                            </div>
                                            <div id="recommended-search-data" class="recommended resources">
                                                <h4 class="title">Recommended Search</h4>
                                                <ul>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">JavaScript chat</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">Python SDK</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">Live dashboards</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">Android</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">Device control</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">Raspberry Pi</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">iOS Push Notification</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">Cognitive Services</code></a></li>
                                                    <li><a href="javascript:void(0)"><code class="recomended-searches">Serverless</code></a></li>
                                                </ul>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="docs-output">

        <div id="ce-pn-sub-nav">

            <div class="container" >
                <div class="row">
                    <div class="col-md-4">
                        <img src="https://www.pubnub.com/wp-content/uploads/2017/11/chat-engine-logo.svg" id="ce-logo">
                    </div>
                    <div class="col-md-3">

                        <div id="ce-sdk-select">
                            <div class="dropdown">
                              <button class="btn btn-lg btn-light dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                Javascript
                              </button>
                              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="#">Javascript</a>
                                <a class="dropdown-item" href="#">Android</a>
                                <a class="dropdown-item" href="#">iOS</a>
                              </div>
                            </div>
                            <div class="dropdown">
                              <button class="btn btn-lg btn-light dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                v0.9.15
                              </button>
                              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="#">v0.9.15</a>
                                <a class="dropdown-item" href="#">v0.9.14</a>
                                <a class="dropdown-item" href="#">v0.9.13</a>
                                <a class="dropdown-item" href="#">v0.9.12</a>
                              </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-md-5" id="ce-header-nav">

                        <div class="ce-sub-nav">
                          <a href="tutorial-getting-started.html">Overview</a>
                          <a href="tutorial-js.html">Examples</a>
                          <a href="tutorial-concepts.html">Tutorials</a>
                          <a href="module-chat-engine-emoji.html">Plugins</a>
                          <a href="Chat.html">Reference</a>
                        </div>

                    </div>
                </div>
            </div>

        </div>

        <div class="container">
            <div class="row">

                <nav class="col-md-4" id="ce-side-nav">

                    <div id="ce-side-nav-pad">
                    <h2><a href="index.html">Home</a></h2><div data-ce-type="tutorial"><h3><a href="tutorial-concepts.html">Tutorials</a></h3><ul><li><a href="tutorial-me_.html">Me</a></li><li><a href="tutorial-users.html">Users and State</a></li><li><a href="tutorial-chats.html">Chats</a></li><li><a href="tutorial-events.html">Events</a></li><li><a href="tutorial-payload.html">Event Payload</a></li><li><a href="tutorial-namespaces.html">Namespaces</a></li><li><a href="tutorial-wildcard.html">Wildcards</a></li><li><a href="tutorial-search_.html">Search</a></li><li><a href="tutorial-globalChat.html">Global Chat</a></li><li><a href="tutorial-online-list.html">Online List</a></li><li><a href="tutorial-auth.html">Authentication</a></li><li><a href="tutorial-privacy.html">Privacy</a></li><li><a href="tutorial-private.html">Private Chats</a></li><li><a href="tutorial-templating.html">Templating</a></li><li><a href="tutorial-debugging.html">Debugging</a></li><li><a href="tutorial-errors.html">Errors</a></li><li><a href="tutorial-using.html">Plugins</a></li><li><a href="tutorial-build.html">Build a Plugin</a></li><li><a href="tutorial-functions.html">PubNub Functions</a></li><li><a href="tutorial-topology.html">PubNub Channel Topology</a></li></ul></div><div data-ce-type="tutorial"><h3><a href="tutorial-examples.html">Examples</a></h3><ul><li><a href="tutorial-js.html">Javascript</a><ul><li><a href="tutorial-chat_.html">JS Chat</a></li><li><a href="tutorial-friends.html">JS Friends List</a></li><li><a href="tutorial-online.html">JS Online List</a></li><li><a href="tutorial-facebook.html">JS Facebook Auth</a></li></ul></li><li><a href="tutorial-angular.html">Angular</a><ul><li><a href="tutorial-ng-simple.html">Angular Bootstrap</a></li><li><a href="tutorial-ng-flowtron.html">Angular Desktop Chat</a></li></ul></li><li><a href="tutorial-react.html">React</a><ul><li><a href="tutorial-react-simple.html">React Web</a></li><li><a href="tutorial-react-native.html">React Native</a></li></ul></li><li><a href="tutorial-jquery.html">jQuery</a><ul><li><a href="tutorial-jq-simple.html">jQuery Chat</a></li><li><a href="tutorial-jq-kitchen.html">jQuery Kitchen Sink</a></li></ul></li><li><a href="tutorial-nodejs.html">NodeJS</a><ul><li><a href="tutorial-chatbot.html">NodeJS Chat Bot</a></li></ul></li></ul></div><div data-ce-type="tutorial"><h3><a href="tutorial-getting-started.html">Overview</a></h3><ul><li><a href="tutorial-install.html">Install ChatEngine</a></li><li><a href="tutorial-pubnub.html">Configure ChatEngine</a></li><li><a href="tutorial-quick.html">Quick Start Guide</a></li></ul></div><div data-ce-type="module"><h3>Plugins</h3><ul><li><a href="module-chat-engine-desktop-notifications.html">chat-engine-desktop-notifications</a></li><li><a href="module-chat-engine-emoji.html">chat-engine-emoji</a><ul><li><a href="Chat.html">Chat</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-emoji.html#~parseEmoji">parseEmoji()</a></li><li data-type='method'><a href="module-chat-engine-emoji.html#~render">render()</a></li><li data-type='method'><a href="module-chat-engine-emoji.html#~search">search()</a></li></ul></ul></li><li><a href="module-chat-engine-gravatar.html">chat-engine-gravatar</a><ul><li><a href="User.html">User</a><ul class='members'><li data-type='member'><a href="module-chat-engine-gravatar.html#~state()%2522.%2522gravatar">state().gravatar</a></li></ul></ul></li><li><a href="module-chat-engine-markdown.html">chat-engine-markdown</a></li><li><a href="module-chat-engine-online-user-search.html">chat-engine-online-user-search</a><ul><li><a href="Chat.html">Chat</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-online-user-search.html#~search">search()</a></li></ul></ul></li><li><a href="module-chat-engine-random-username.html">chat-engine-random-username</a><ul><li><a href="User.html">User</a><ul class='members'><li data-type='member'><a href="module-chat-engine-random-username.html#~state%2522.%2522username">state.username</a></li></ul></ul></li><li><a href="module-chat-engine-typing-indicator.html">chat-engine-typing-indicator</a><ul><li><a href="Chat.html">Chat</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-typing-indicator.html#~typingindicator%2522.%2522startTyping">typingindicator.startTyping()</a></li><li data-type='method'><a href="module-chat-engine-typing-indicator.html#~typingindicator%2522.%2522stopTyping">typingindicator.stopTyping()</a></li></ul><ul class='events'><li data-type='event'><a href="module-chat-engine-typing-indicator.html#~event:$typingIndiciator%2522.%2522stopTyping">$typingIndiciator.stopTyping</a></li></ul></ul></li><li><a href="module-chat-engine-unread-messages.html">chat-engine-unread-messages</a><ul><li><a href="Chat.html">Chat</a><ul class='members'><li data-type='member'><a href="module-chat-engine-unread-messages.html#~unreadCount">unreadCount</a></li><li data-type='member'><a href="module-chat-engine-unread-messages.html#~unreadMessages%2522.%2522isActive">unreadMessages.isActive</a></li><li data-type='member'><a href="module-chat-engine-unread-messages.html#~unreadMessages%2522.%2522unreadCount">unreadMessages.unreadCount</a></li></ul><ul class='methods'><li data-type='method'><a href="module-chat-engine-unread-messages.html#~unreadMessages%2522.%2522active">unreadMessages.active()</a></li><li data-type='method'><a href="module-chat-engine-unread-messages.html#~unreadMessages%2522.%2522active">unreadMessages.active()</a></li></ul><ul class='events'><li data-type='event'><a href="module-chat-engine-unread-messages.html#~event:$unread">$unread</a></li></ul></ul></li></ul></div><div data-ce-type="class"><h3>Reference</h3><ul><li><a href="global.html#ChatEngineCore">ChatEngineCore</a></li><li><a href="Chat.html">Chat</a><ul class='members'><li data-type='member'><a href="Chat.html#asleep">asleep</a></li><li data-type='member'><a href="Chat.html#channel">channel</a></li><li data-type='member'><a href="Chat.html#connected">connected</a></li><li data-type='member'><a href="Chat.html#hasConnected">hasConnected</a></li><li data-type='member'><a href="Chat.html#isPrivate">isPrivate</a></li><li data-type='member'><a href="Chat.html#meta">meta</a></li><li data-type='member'><a href="Chat.html#users">users</a></li></ul><ul class='methods'><li data-type='method'><a href="Chat.html#connect">connect()</a></li><li data-type='method'><a href="Chat.html#emit">emit()</a></li><li data-type='method'><a href="Chat.html#getUserUpdates">getUserUpdates()</a></li><li data-type='method'><a href="Chat.html#handshake">handshake()</a></li><li data-type='method'><a href="Chat.html#invite">invite()</a></li><li data-type='method'><a href="Chat.html#leave">leave()</a></li><li data-type='method'><a href="Chat.html#objectify">objectify()</a></li><li data-type='method'><a href="Chat.html#off">off()</a></li><li data-type='method'><a href="Chat.html#on">on()</a></li><li data-type='method'><a href="Chat.html#onAny">onAny()</a></li><li data-type='method'><a href="Chat.html#once">once()</a></li><li data-type='method'><a href="Chat.html#plugin">plugin()</a></li><li data-type='method'><a href="Chat.html#search">search()</a></li><li data-type='method'><a href="Chat.html#update">update()</a></li></ul><ul class='events'><li data-type='event'><a href="Chat.html#event:$%2522.%2522connected">$.connected</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522error%2522.%2522history">$.error.history</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522error%2522.%2522presence">$.error.presence</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522error%2522.%2522publish">$.error.publish</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522offline%2522.%2522disconnect">$.offline.disconnect</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522offline%2522.%2522leave">$.offline.leave</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522online%2522.%2522here">$.online.here</a></li><li data-type='event'><a href="Chat.html#event:$%2522.%2522online%2522.%2522join">$.online.join</a></li></ul></li><li><a href="ChatEngine.html">ChatEngine</a><ul class='members'><li data-type='member'><a href="ChatEngine.html#.Chat">Chat</a></li><li data-type='member'><a href="ChatEngine.html#.chats">chats</a></li><li data-type='member'><a href="ChatEngine.html#.global">global</a></li><li data-type='member'><a href="ChatEngine.html#.me">me</a></li><li data-type='member'><a href="ChatEngine.html#.pubnub">pubnub</a></li><li data-type='member'><a href="ChatEngine.html#.ready">ready</a></li><li data-type='member'><a href="ChatEngine.html#.User">User</a></li><li data-type='member'><a href="ChatEngine.html#.users">users</a></li></ul><ul class='methods'><li data-type='method'><a href="ChatEngine.html#connect">connect()</a></li><li data-type='method'><a href="ChatEngine.html#disconnect">disconnect()</a></li><li data-type='method'><a href="ChatEngine.html#off">off()</a></li><li data-type='method'><a href="ChatEngine.html#on">on()</a></li><li data-type='method'><a href="ChatEngine.html#onAny">onAny()</a></li><li data-type='method'><a href="ChatEngine.html#once">once()</a></li><li data-type='method'><a href="ChatEngine.html#proto">proto()</a></li><li data-type='method'><a href="ChatEngine.html#reauthorize">reauthorize()</a></li><li data-type='method'><a href="ChatEngine.html#reconnect">reconnect()</a></li></ul><ul class='events'><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522created%2522.%2522chat">$.created.chat</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522created%2522.%2522me">$.created.me</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522created%2522.%2522user">$.created.user</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522down%2522.%2522badrequest">$.network.down.badrequest</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522down%2522.%2522decryption">$.network.down.decryption</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522down%2522.%2522denied">$.network.down.denied</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522down%2522.%2522issue">$.network.down.issue</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522down%2522.%2522malformed">$.network.down.malformed</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522down%2522.%2522offline">$.network.down.offline</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522down%2522.%2522timeout">$.network.down.timeout</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522up%2522.%2522connected">$.network.up.connected</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522up%2522.%2522online">$.network.up.online</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522network%2522.%2522up%2522.%2522reconnected">$.network.up.reconnected</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522ready">$.ready</a></li><li data-type='event'><a href="ChatEngine.html#event:$%2522.%2522state">$.state</a></li></ul></li><li><a href="Emitter.html">Emitter</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="Emitter.html#off">off()</a></li><li data-type='method'><a href="Emitter.html#on">on()</a></li><li data-type='method'><a href="Emitter.html#onAny">onAny()</a></li><li data-type='method'><a href="Emitter.html#once">once()</a></li><li data-type='method'><a href="Emitter.html#plugin">plugin()</a></li></ul></li><li><a href="Event.html">Event</a><ul class='members'><li data-type='member'><a href="Event.html#channel">channel</a></li><li data-type='member'><a href="Event.html#chat">chat</a></li><li data-type='member'><a href="Event.html#event">event</a></li><li data-type='member'><a href="Event.html#name">name</a></li></ul><ul class='methods'><li data-type='method'><a href="Event.html#off">off()</a></li><li data-type='method'><a href="Event.html#on">on()</a></li><li data-type='method'><a href="Event.html#onAny">onAny()</a></li><li data-type='method'><a href="Event.html#once">once()</a></li><li data-type='method'><a href="Event.html#plugin">plugin()</a></li></ul><ul class='events'><li data-type='event'><a href="Event.html#event:$%2522.%2522emitted%2522">$.emitted</a></li></ul></li><li><a href="Me.html">Me</a><ul class='members'><li data-type='member'><a href="Me.html#direct">direct</a></li><li data-type='member'><a href="Me.html#feed">feed</a></li><li data-type='member'><a href="Me.html#state">state</a></li><li data-type='member'><a href="Me.html#uuid">uuid</a></li></ul><ul class='methods'><li data-type='method'><a href="Me.html#off">off()</a></li><li data-type='method'><a href="Me.html#on">on()</a></li><li data-type='method'><a href="Me.html#onAny">onAny()</a></li><li data-type='method'><a href="Me.html#once">once()</a></li><li data-type='method'><a href="Me.html#plugin">plugin()</a></li><li data-type='method'><a href="Me.html#update">update()</a></li></ul><ul class='events'><li data-type='event'><a href="Me.html#event:$%2522.%2522invite">$.invite</a></li><li data-type='event'><a href="Me.html#event:$%2522.%2522session%2522.%2522chat%2522.%2522join">$.session.chat.join</a></li><li data-type='event'><a href="Me.html#event:$%2522.%2522session%2522.%2522chat%2522.%2522leave">$.session.chat.leave</a></li><li data-type='event'><a href="Me.html#event:$%2522.%2522session%2522.%2522group%2522.%2522restored">$.session.group.restored</a></li></ul></li><li><a href="RootEmitter.html">RootEmitter</a><ul class='members'></ul><ul class='methods'><li data-type='method'><a href="RootEmitter.html#off">off()</a></li><li data-type='method'><a href="RootEmitter.html#on">on()</a></li><li data-type='method'><a href="RootEmitter.html#onAny">onAny()</a></li><li data-type='method'><a href="RootEmitter.html#once">once()</a></li></ul></li><li><a href="Search.html">Search</a><ul class='members'><li data-type='member'><a href="Search.html#chat">chat</a></li><li data-type='member'><a href="Search.html#config">config</a></li><li data-type='member'><a href="Search.html#hasMore">hasMore</a></li><li data-type='member'><a href="Search.html#name">name</a></li></ul><ul class='methods'><li data-type='method'><a href="Search.html#off">off()</a></li><li data-type='method'><a href="Search.html#on">on()</a></li><li data-type='method'><a href="Search.html#onAny">onAny()</a></li><li data-type='method'><a href="Search.html#once">once()</a></li><li data-type='method'><a href="Search.html#plugin">plugin()</a></li></ul><ul class='events'><li data-type='event'><a href="Search.html#event:$%2522.%2522page%2522.%2522request">$.page.request</a></li><li data-type='event'><a href="Search.html#event:$%2522.%2522page%2522.%2522response">$.page.response</a></li><li data-type='event'><a href="Search.html#event:$%2522.%2522search%2522.%2522finish">$.search.finish</a></li><li data-type='event'><a href="Search.html#event:$%2522.%2522search%2522.%2522start">$.search.start</a></li></ul></li><li><a href="User.html">User</a><ul class='members'><li data-type='member'><a href="User.html#direct">direct</a></li><li data-type='member'><a href="User.html#feed">feed</a></li><li data-type='member'><a href="User.html#state">state</a></li><li data-type='member'><a href="User.html#uuid">uuid</a></li></ul><ul class='methods'><li data-type='method'><a href="User.html#off">off()</a></li><li data-type='method'><a href="User.html#on">on()</a></li><li data-type='method'><a href="User.html#onAny">onAny()</a></li><li data-type='method'><a href="User.html#once">once()</a></li><li data-type='method'><a href="User.html#plugin">plugin()</a></li></ul></li></ul></div>
                    </div>

                    <script type="text/javascript">

                        var type = 'source';

                        $('#ce-side-nav div[data-ce-type="'+type+'"] a[href*="' + location.pathname.replace('/', '') + '"]').each((i, el) => {

                            let $el = $(el);

                            $el.addClass('active');

                            var head = $el.closest('div[data-ce-type]');
                            $(head).show();

                            let header = head.find('h3').text();
                            $('a:contains("'+header+'")').addClass('active');

                        })
                    </script>
                </nav>

                <div id="main" class="col-md-8">

                    
                    <h1 class="page-title">chat-engine/src/components/search.js</h1>
                    

                    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>const Emitter = require('../modules/emitter');
const eachSeries = require('async/eachSeries');

const eventFilter = require('../plugins/filter/event');
const senderFilter = require('../plugins/filter/sender');
/**
Returned by {@link Chat#search}. This is our Search class which allows one to search the backlog of messages.
Powered by [PubNub History](https://www.pubnub.com/docs/web-javascript/storage-and-history).
@class Search
@extends Emitter
@extends RootEmitter
@param {ChatEngine} chatEngine This instance of the {@link ChatEngine} object.
@param {Chat} chat The {@link Chat} object to search.
@param {Object} config The configuration object. See {@link Chat#search} for a list of parameters.
*/
class Search extends Emitter {

    constructor(chatEngine, chat, config = {}) {

        super(chatEngine);

        this.chatEngine = chatEngine;

        /**
        Handy property to identify what this class is.
        @type String
        */
        this.name = 'Search';

        /**
        The {@link Chat} used for searching.
        @type Chat
        */
        this.chat = chat;

        /**
        An object containing configuration parameters supplied by {@link Chat#search}. See {@link Chat#search} for possible parameters.
        @type {Object}
        */
        this.config = config;
        this.config.event = config.event;
        this.config.limit = config.limit || 20;
        this.config.channel = this.chat.channel;
        this.config.includeTimetoken = true;
        this.config.stringifiedTimeToken = true;
        this.config.count = this.config.count || 100;
        this.config.pages = this.config.pages || 10;

        /** @private */
        this.maxPage = this.config.pages;
        /** @private */
        this.numPage = 0;

        /** @private */
        this.referenceDate = this.config.end || 0;

        /**
         * Flag which represent whether there is potentially more data available in {@link Chat} history. This flag can
         * be used for conditional call of {@link Chat#search}.
         * @type {boolean}
         */
        this.hasMore = true;
        /** @private */
        this.messagesBetweenTimetokens = this.config.start > '0' &amp;&amp; this.config.end > '0';
        /** @private */
        this.needleCount = 0;

        /**
         * Call PubNub history in a loop.
         * @private
         */
        this.page = (pageDone) => {
            let searchConfiguration = Object.assign({}, this.config, { start: this.referenceDate });
            delete searchConfiguration.reverse;
            delete searchConfiguration.end;

            /**
             * Requesting another page from PubNub History.
             * @event Search#$"."page"."request
             */
            this._emit('$.search.page.request');

            this.chatEngine.pubnub.history(searchConfiguration, (status, response) => {

                /**
                 * PubNub History returned a response.
                 * @event Search#$"."page"."response
                 */
                this._emit('$.search.page.response');

                if (status.error) {

                    /**
                     * There was a problem fetching the history of this chat
                     * @event Chat#$"."error"."history
                     */
                    this.chatEngine.throwError(this, 'trigger', 'search', new Error('There was a problem searching history. Make sure your request parameters are valid and history is enabled for this PubNub key.'), status);
                } else {
                    const startDate = response.startTimeToken;
                    this.referenceDate = response.startTimeToken;
                    this.hasMore = response.messages.length === this.config.count &amp;&amp; startDate !== '0';

                    response.messages.sort((left, right) => (left.timetoken &lt; right.timetoken ? -1 : 1));

                    if (this.config.start &amp;&amp; startDate &lt; this.config.start) {
                        this.hasMore = false;
                        response.messages = response.messages.filter(event => event.timetoken >= this.config.start);
                    }

                    pageDone(response);
                }

            });
        };

        /**
         * @private
         */
        this.triggerHistory = (message, cb) => {

            if (this.needleCount &lt; this.config.limit || this.messagesBetweenTimetokens) {

                message.entry.timetoken = message.timetoken;

                this.trigger(message.entry.event, message.entry, (reject) => {

                    if (!reject) {
                        this.needleCount += 1;
                    }

                    cb();

                });

            } else {
                cb();
            }

        };

        this.next = () => {

            if (this.hasMore) {

                this.maxPage = this.maxPage + this.config.pages;
                this.find();

            } else {
                this._emit('$.search.finish');
            }
        };

        /**
         * @private
         */
        this.find = () => {
            this.page((response) => {
                response.messages.reverse();
                this.numPage += 1;

                eachSeries(response.messages, this.triggerHistory, () => {

                    if (this.hasMore &amp;&amp; this.numPage === this.maxPage) {
                        this._emit('$.search.pause');
                    } else if (this.hasMore &amp;&amp; (this.needleCount &lt; this.config.limit || this.messagesBetweenTimetokens)) {
                        this.find();
                    } else {

                        if (this.needleCount >= this.config.limit &amp;&amp; !this.messagesBetweenTimetokens) {
                            this.hasMore = false;
                        }

                        /**
                         * Search has returned all results or reached the end of history.
                         * @event Search#$"."search"."finish
                         */
                        this._emit('$.search.finish');

                    }

                });
            });

            return this;
        };

        if (this.config.event) {
            this.plugins.unshift(eventFilter(this.config.event));
        }

        if (this.config.sender) {
            this.plugins.unshift(senderFilter(this.config.sender));
        }

        /**
         * Search has started.
         * @event Search#$"."search"."start
         */
        this._emit('$.search.start');
        this.find();
    }
}

module.exports = Search;
</code></pre>
        </article>
    </section>





                    <footer>
                        Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
                    </footer>

                </div>

                <br class="clear">

                <script>prettyPrint();</script>
                <script src="scripts/linenumber.js"></script>
            </div>

        </div>
    </div>
    <script src='https://www.pubnub.com/wp-content/plugins/bwp-minify/min/?f=static/intl-tel-input/build/js/intlTelInput.js,wp-content/themes/pubnub/js/phone-validation.js,wp-content/themes/pubnub/js/script.js&#038;ver=148732091320181'></script>
    <script src='/static/js/main.min.js?ts=1536827280' async='async'></script>
    <script>
        $(document).ready(function() {
            setTimeout(function() {
                var fc_CSS = document.createElement('link');
                fc_CSS.setAttribute('rel', 'stylesheet');
                var fc_isSecured = (window.location && window.location.protocol == 'https:');
                var fc_lang = document.getElementsByTagName('html')[0].getAttribute('lang');
                var fc_rtlLanguages = ['ar', 'he'];
                var fc_rtlSuffix = (fc_rtlLanguages.indexOf(fc_lang) >= 0) ? '-rtl' : '';
                fc_CSS.setAttribute('type', 'text/css');
                fc_CSS.setAttribute('href', ((fc_isSecured) ? 'https://d36mpcpuzc4ztk.cloudfront.net' : 'http://assets1.chat.freshdesk.com') + '/css/visitor' + fc_rtlSuffix + '.css');
                document.getElementsByTagName('head')[0].appendChild(fc_CSS);
                var fc_JS = document.createElement('script');
                fc_JS.type = 'text/javascript';
                fc_JS.defer = true;
                fc_JS.src = ((fc_isSecured) ? 'https://d36mpcpuzc4ztk.cloudfront.net' : 'http://assets.chat.freshdesk.com') + '/js/visitor.js';
                (document.body ? document.body : document.getElementsByTagName('head')[0]).appendChild(fc_JS);
                window.livechat_setting = 'eyJ3aWRnZXRfc2l0ZV91cmwiOiJwdWJudWIuZnJlc2hkZXNrLmNvbSIsInByb2R1Y3RfaWQiOm51bGwsIm5hbWUiOiJQdWJOdWIgU3VwcG9ydCIsIndpZGdldF9leHRlcm5hbF9pZCI6bnVsbCwid2lkZ2V0X2lkIjoiNTQ0ZGNlZTktMjZmZS00YTRlLWE5NTEtOWE5OTU0NWY5MDczIiwic2hvd19vbl9wb3J0YWwiOnRydWUsInBvcnRhbF9sb2dpbl9yZXF1aXJlZCI6dHJ1ZSwibGFuZ3VhZ2UiOm51bGwsInRpbWV6b25lIjpudWxsLCJpZCI6MTQwMDAwMDgzODUsIm1haW5fd2lkZ2V0IjoxLCJmY19pZCI6Ijc3OTY4OGViODJmM2E2OTM0M2E4YzUyZDg5ODEzODE3Iiwic2hvdyI6MSwicmVxdWlyZWQiOjIsImhlbHBkZXNrbmFtZSI6IlB1Yk51YiIsIm5hbWVfbGFiZWwiOiJOYW1lIiwibWVzc2FnZV9sYWJlbCI6Ik1lc3NhZ2UiLCJwaG9uZV9sYWJlbCI6IlBob25lIiwidGV4dGZpZWxkX2xhYmVsIjoiVGV4dGZpZWxkIiwiZHJvcGRvd25fbGFiZWwiOiJEcm9wZG93biIsIndlYnVybCI6InB1Ym51Yi5mcmVzaGRlc2suY29tIiwibm9kZXVybCI6ImNoYXQuZnJlc2hkZXNrLmNvbSIsImRlYnVnIjoxLCJtZSI6Ik1lIiwiZXhwaXJ5IjowLCJlbnZpcm9ubWVudCI6InByb2R1Y3Rpb24iLCJlbmRfY2hhdF90aGFua19tc2ciOiJUaGFuayB5b3UhISEiLCJlbmRfY2hhdF9lbmRfdGl0bGUiOiJFbmQiLCJlbmRfY2hhdF9jYW5jZWxfdGl0bGUiOiJDYW5jZWwiLCJzaXRlX2lkIjoiNzc5Njg4ZWI4MmYzYTY5MzQzYThjNTJkODk4MTM4MTciLCJhY3RpdmUiOjEsInJvdXRpbmciOnsiY2hvaWNlcyI6eyJUZWNobmljYWwgUXVlcnkiOlsiMTQwMDAwMjg4ODgiXSwiUHJpY2UgSW5xdWlyeSI6WyIxNDAwMDAyODkwMCJdLCJQYXJ0bmVyc2hpcCBSZXF1ZXN0IjpbIjAiXSwiTGVnYWwgTWF0dGVyIjpbIjAiXSwiSFIgSW5xdWlyeSI6WyIwIl0sIkV2YW5nZWxpc20vTWVldHVwL0V2ZW50IjpbIjAiXSwiQmlsbGluZyBRdWVzdGlvbiI6WyIxNDAwMDAyODkwMCJdLCJTZWN1cml0eSBJbnF1aXJ5IjpbIjAiXSwiQ29tcGxpYW5jeSI6WyIxNDAwMDAyODkwMCJdLCJPdGhlciI6WyIwIl0sImRlZmF1bHQiOlsiMCJdfSwiZHJvcGRvd25fYmFzZWQiOiJmYWxzZSJ9LCJwcmVjaGF0X2Zvcm0iOjEsImJ1c2luZXNzX2NhbGVuZGFyIjpudWxsLCJwcm9hY3RpdmVfY2hhdCI6MSwicHJvYWN0aXZlX3RpbWUiOjYwLCJzaXRlX3VybCI6InB1Ym51Yi5mcmVzaGRlc2suY29tIiwiZXh0ZXJuYWxfaWQiOm51bGwsImRlbGV0ZWQiOjAsIm1vYmlsZSI6MSwiYWNjb3VudF9pZCI6bnVsbCwiY3JlYXRlZF9hdCI6IjIwMTYtMDMtMDlUMDg6MzE6NDQuMDAwWiIsInVwZGF0ZWRfYXQiOiIyMDE3LTAzLTE0VDA1OjUxOjQ1LjAwMFoiLCJjYkRlZmF1bHRNZXNzYWdlcyI6eyJjb2Jyb3dzaW5nX3N0YXJ0X21zZyI6IllvdXIgc2NyZWVuc2hhcmUgc2Vzc2lvbiBoYXMgc3RhcnRlZCIsImNvYnJvd3Npbmdfc3RvcF9tc2ciOiJZb3VyIHNjcmVlbnNoYXJpbmcgc2Vzc2lvbiBoYXMgZW5kZWQiLCJjb2Jyb3dzaW5nX2RlbnlfbXNnIjoiWW91ciByZXF1ZXN0IHdhcyBkZWNsaW5lZCIsImNvYnJvd3NpbmdfYWdlbnRfYnVzeSI6IkFnZW50IGlzIGluIHNjcmVlbiBzaGFyZSBzZXNzaW9uIHdpdGggY3VzdG9tZXIiLCJjb2Jyb3dzaW5nX3ZpZXdpbmdfc2NyZWVuIjoiWW91IGFyZSB2aWV3aW5nIHRoZSB2aXNpdG9y4oCZcyBzY3JlZW4gIiwiY29icm93c2luZ19jb250cm9sbGluZ19zY3JlZW4iOiJZb3UgaGF2ZSBhY2Nlc3MgdG8gdmlzaXRvcuKAmXMgc2NyZWVuICIsImNvYnJvd3NpbmdfcmVxdWVzdF9jb250cm9sIjoiUmVxdWVzdCB2aXNpdG9yIGZvciBzY3JlZW4gYWNjZXNzICIsImNvYnJvd3NpbmdfZ2l2ZV92aXNpdG9yX2NvbnRyb2wiOiJHaXZlIGFjY2VzcyBiYWNrIHRvIHZpc2l0b3IgIiwiY29icm93c2luZ19zdG9wX3JlcXVlc3QiOiJFbmQgeW91ciBzY3JlZW5zaGFyaW5nIHNlc3Npb24iLCJjb2Jyb3dzaW5nX3JlcXVlc3RfY29udHJvbF9yZWplY3RlZCI6IllvdXIgcmVxdWVzdCB3YXMgZGVjbGluZWQiLCJjb2Jyb3dzaW5nX2NhbmNlbF92aXNpdG9yX21zZyI6IlNjcmVlbnNoYXJpbmcgaXMgY3VycmVudGx5IHVuYXZhaWxhYmxlIiwiY29icm93c2luZ19hZ2VudF9yZXF1ZXN0X2NvbnRyb2wiOiJBZ2VudCBpcyByZXF1ZXN0aW5nIGFjY2VzcyB0byB5b3VyIHNjcmVlbiIsImNiX3ZpZXdpbmdfc2NyZWVuX3ZpIjoiQWdlbnQgY2FuIHZpZXcgeW91ciBzY3JlZW4gIiwiY2JfY29udHJvbGxpbmdfc2NyZWVuX3ZpIjoiQWdlbnQgaGFzIGFjY2VzcyB0byB5b3VyIHNjcmVlbiAiLCJjYl92aWV3X21vZGVfc3VidGV4dCI6IllvdXIgYWNjZXNzIHRvIHRoZSBzY3JlZW4gaGFzIGJlZW4gd2l0aGRyYXduICIsImNiX2dpdmVfY29udHJvbF92aSI6IkFsbG93IGFnZW50IHRvIGFjY2VzcyB5b3VyIHNjcmVlbiAiLCJjYl92aXNpdG9yX3Nlc3Npb25fcmVxdWVzdCI6IkFnZW50IHNlZWtzIGFjY2VzcyB0byB5b3VyIHNjcmVlbiAifX0=';
                console.log('Freshdesk Chat is enabled');
            }, 6000);
        });
    </script>
</body>

</html>
